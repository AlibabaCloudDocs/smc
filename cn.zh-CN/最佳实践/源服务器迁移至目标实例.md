# 源服务器迁移至目标实例

SMC支持将源服务器迁移至目标实例。您在已购买ECS实例的前提下，可以将源服务器直接迁移至已购买的ECS实例。本文介绍源服务器迁移至目标实例的操作步骤。

-   已做好迁移前的准备工作，详情请参见[准备工作（迁移前必读）](/cn.zh-CN/用户指南/准备工作（迁移前必读）.md)。
-   已创建ECS实例作为迁移的目标实例，并且该实例内无数据或已将所有数据备份至镜像、快照或该实例以外的设备中。

    **警告：**

    -   创建迁移任务后，目标实例中的原数据将会清除。因此，如果作为目标实例的ECS实例中存在重要数据，SMC不推荐您使用该方式将迁移源直接迁移至目标实例。推荐您在迁移时，目标类型选择云服务器镜像，再通过镜像创建ECS实例。
    -   如果您的迁移源为阿里云云服务器ECS，请确保迁移源与目标实例不是同一台实例。否则，将导致迁移失败并造成迁移源中的云盘数据丢失。
-   已将源服务器信息导入SMC控制台。具体步骤，请参见[导入迁移源](/cn.zh-CN/用户指南/步骤一：导入迁移源.md)。

    **说明：** 迁移任务执行过程中请保持SMC客户端处于运行状态。如果数据传输中断，重新运行客户端并重新启动迁移任务即可继续迁移。

-   目标实例的操作系统和迁移源的操作系统需要保持一致。
-   目标实例所挂载的数据盘的数量需要大于等于迁移源的数据盘的数量。如果目标实例的数据盘数量不满足需求，您需要挂载更多的数据盘。挂载数据盘的具体操作，请参见[挂载数据盘](/cn.zh-CN/块存储/云盘基础操作/挂载数据盘.md)。否则迁移源的数据盘数据将无法迁移至目标实例。
-   目标实例的系统盘和数据盘的容量需要大于等于迁移源的系统盘和数据盘的容量。如果目标实例的云盘容量不满足需求，您需要对云盘进行扩容。云盘的扩容的具体操作，请参见[扩容概述](/cn.zh-CN/块存储/扩容云盘/扩容概述.md)。否则迁移源的数据可能无法完全迁移至目标实例。

## 操作步骤

1.  登录[SMC控制台](https://smc.console.aliyun.com/)。

2.  在左侧导航栏，单击**迁移源**。

3.  在待迁移的源服务器的**操作**列，单击**创建迁移任务**。

4.  在**创建迁移任务**页面进行迁移任务的设置。

    本教程中仅说明迁移至云服务器实例的相关设置。其它配置项的更多信息，请参见[创建并启动迁移任务](/cn.zh-CN/用户指南/步骤二：创建并启动迁移任务.md)。

    ![smc](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9143873061/p176825.png)

    迁移至目标实例的配置项说明如下：

    -   **目标类型**：选择**云服务器实例**。
    -   **目标实例**：选择符合迁移源的ECS实例。选择后将提示目标实例的云盘信息。
    -   **标签与网络（可选）**：**网络模式**将默认选择目标实例所在的专有网络及交换机。
    迁移任务创建后立即开始执行。执行结果如下：

    -   当迁移任务状态为**已完成**（Finished），表示任务完成并能够查看目标实例。
    -   当任务状态为**出错**（InError），表示任务失败。您需要查看日志修复问题后，再次重启迁移任务。常见错误及修复方案的更多信息，请参见[SMC FAQ](/cn.zh-CN/常见问题/SMC FAQ.md)。

**相关文档**  


[CreateReplicationJob](/cn.zh-CN/API参考/迁云任务/CreateReplicationJob.md)

